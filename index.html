<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>MEMU Store</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Arial, sans-serif;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      background-color: #f8f9fa;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      touch-action: manipulation;
      overflow-x: hidden;
    }

    .header {
      width: 100%;
      background: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background: linear-gradient(to right, #e83278, #ff5c33);
      color: white;
      position: relative;
      gap: 15px;
    }

    .logo {
      font-size: 28px;
      font-weight: bold;
      letter-spacing: 0.5px;
      z-index: 1001;
      flex-shrink: 0;
    }

    /* ========== Search Box ========== */
    .search-container {
      position: relative;
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      width: 48%;
      max-width: 480px;
      transition: all 0.5s ease, opacity 0.5s ease;
      z-index: 1002;
      flex-grow: 1;
      opacity: 0.7;
    }

    .search-container.expanded {
      width: 85%;
      background: white;
      opacity: 1;
    }

    .search-container .search-icon {
      position: absolute;
      left: 12px;
      font-size: 16px;
      color: #aaa;
    }

    .search-container input {
      flex: 1;
      border: none;
      padding: 8px 8px 8px 35px;
      outline: none;
      background: transparent;
      font-size: 16px;
    }

    .search-btn {
      position: absolute;
      right: 12px;
      font-size: 18px;
      color: #141414;
      background: none;
      border: none;
      cursor: pointer;
      display: none;
    }

    .search-container.expanded .search-btn {
      display: block;
    }

    /* ========== Icons ========== */
    .icons-right {
      display: flex;
      align-items: center;
      gap: 15px;
      font-size: 22px;
      cursor: pointer;
      z-index: 1001;
      flex-shrink: 0;
    }

    .icons-right i {
      color: white;
      transition: color 0.3s;
    }

    .icons-right i:hover {
      color: #ffde33;
    }

    .icons-right.hidden-others .fa-user,
    .icons-right.hidden-others .fa-bars {
      display: none;
    }

    .cart-icon {
      position: relative;
      font-size: 24px;
      cursor: pointer;
    }

    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #28a745;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
      font-weight: bold;
    }

    /* ========== Navigation ========== */
    .nav-container {
      display: flex;
      justify-content: center;
      padding: 0 20px;
      background: white;
      overflow: hidden;
    }

    .nav-menu {
      display: flex;
      list-style: none;
      max-width: 1200px;
      width: 100%;
      justify-content: space-around;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
      scrollbar-width: none;
      padding: 5px 0;
    }

    .nav-menu::-webkit-scrollbar {
      display: none;
    }

    .nav-item {
      padding: 12px 16px;
      font-size: 16px;
      font-weight: 500;
      color: #333;
      cursor: pointer;
      transition: color 0.3s;
      position: relative;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .nav-item.active {
      color: #ff5c33;
      font-weight: bold;
    }

    .nav-item.active::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: #ff5c33;
      border-radius: 2px;
    }

    .nav-item:hover {
      color: #ff5c33;
    }

    /* ========== Product Sections ========== */
    .content {
      width: 100%;
      max-width: 1200px;
      padding: 1px; /* تقليل المساحة الجانبية */
    }

    .welcome-banner {
      text-align: center;
      margin: 20px 0 30px;
    }

    .welcome-banner h1 {
      font-size: 32px;
      color: #3b3b3b;
      margin-bottom: 10px;
    }

    .welcome-banner p {
      font-size: 18px;
      color: #666;
    }

    .category-title {
      font-size: 24px;
      margin: 30px 0 20px;
      color: #333;
      border-left: 4px solid #ff5c33;
      padding-left: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .category-title i {
      color: #ff5c33;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(48%, 1fr));
      gap: 1px; /* تقليل المسافة بين المنتجات */
      margin-bottom: 20px;
    }

    .product-card {
      background: white;
      border-radius: 5px;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
      position: relative;
      margin: 1px; /* تقليل الهامش */
    }

    .product-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .product-image-container {
      position: relative;
      overflow: hidden;
    }

    .product-image {
      width: 100%;
      height: 312px; /* زيادة الطول بنسبة 30% (من 240px إلى 312px) */
      object-fit: cover;
      transition: transform 0.3s;
    }

    .product-card:hover .product-image {
      transform: scale(1.03);
    }

    .product-info {
      padding: 8px; /* تقليل الحشو بنسبة 20% (من 10px إلى 8px) */
    }

    .product-name {
      font-size: 13px; /* تصغير حجم الخط */
      margin-bottom: 4px; /* تقليل الهامش السفلي بنسبة 20% */
      color: #000;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      min-height: 32px; /* تقليل الارتفاع بنسبة 20% */
      line-height: 1.3;
    }

    .product-price-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 4px; /* تقليل الهامش العلوي بنسبة 20% */
    }

    .current-price {
      font-size: 14px; /* تصغير حجم الخط */
      font-weight: bold;
      color: #28a745;
    }

    /* زر الإضافة إلى السلة في الأسفل */
    .add-to-cart-icon {
      background: rgba(255, 255, 255, 0.9);
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #ff5c33;
      font-size: 14px;
      transition: all 0.3s;
      z-index: 11;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }

    .add-to-cart-icon:hover {
      background: white;
      color: #ff5c33;
      transform: scale(1.1);
    }

    .category-section {
      display: none;
      animation: fadeIn 0.5s ease;
    }

    .category-section.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* ========== Responsive ========== */
    @media (max-width: 768px) {
      .top-bar {
        padding: 8px 15px;
      }
      .logo {
        font-size: 24px;
      }
      .search-container {
        width: 40%;
      }
      .search-container.expanded {
        width: 68%;
      }
      .cart-icon {
        font-size: 20px;
      }
      .nav-container {
        padding: 0 10px;
      }
      .nav-item {
        padding: 10px 12px;
        font-size: 14px;
      }
      .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(48%, 1fr));
      }
      .product-image {
        height: 273px; /* زيادة الطول بنسبة 30% (من 210px إلى 273px) */
      }
      .welcome-banner h1 {
        font-size: 28px;
      }
      .welcome-banner p {
        font-size: 16px;
      }
      .add-to-cart-icon {
        width: 30px;
        height: 30px;
        font-size: 13px;
      }
      .product-info {
        padding: 6px; /* تقليل الحشو بنسبة 20% */
      }
      .product-name {
        font-size: 12px;
        min-height: 28px; /* تقليل الارتفاع بنسبة 20% */
        margin-bottom: 3px; /* تقليل الهامش السفلي بنسبة 20% */
      }
      .product-price-container {
        margin-top: 3px; /* تقليل الهامش العلوي بنسبة 20% */
      }
    }

    @media (max-width: 480px) {
      .logo {
        font-size: 22px;
      }
      .search-container {
        width: 35%;
      }
      .search-container.expanded {
        width: 60%;
      }
      .nav-item {
        padding: 8px 10px;
        font-size: 13px;
      }
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1px;
      }
      .product-image {
        height: 253px; /* زيادة الطول بنسبة 30% (من 195px إلى 253px) */
      }
      .category-title {
        font-size: 20px;
      }
      .product-name {
        font-size: 12px;
      }
      .current-price {
        font-size: 13px;
      }
      .add-to-cart-icon {
        width: 28px;
        height: 28px;
        font-size: 12px;
      }
      .product-info {
        padding: 6px; /* تقليل الحشو بنسبة 20% */
      }
      .product-name {
        min-height: 26px; /* تقليل الارتفاع بنسبة 20% */
        margin-bottom: 3px; /* تقليل الهامش السفلي بنسبة 20% */
      }
      .product-price-container {
        margin-top: 3px; /* تقليل الهامش العلوي بنسبة 20% */
      }
    }

    @media (max-width: 360px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      .product-image {
        height: 214px; /* زيادة الطول بنسبة 30% (من 165px إلى 214px) */
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="top-bar">
      <div class="logo">MEMU</div>
      <div class="search-container" id="searchBox">
        <i class="fas fa-search search-icon"></i>
        <input type="text" id="searchInput" placeholder="Search" aria-label="Search">
        <button class="search-btn"><i class="fas fa-search"></i></button>
      </div>
      <div class="icons-right" id="iconsRight">
        <div class="cart-icon">
          <i class="fa-solid fa-basket-shopping"></i>
          <span class="cart-count">0</span>
        </div>
        <i class="fa-solid fa-user" title="Account"></i>
        <i class="fas fa-bars" title="Menu"></i>
      </div>
    </div>

    <div class="nav-container">
      <ul class="nav-menu">
        <li class="nav-item active" data-category="all">ALL</li>
        <li class="nav-item" data-category="women">Women</li>
        <li class="nav-item" data-category="baby">Baby</li>
        <li class="nav-item" data-category="kids">Kids</li>
        <li class="nav-item" data-category="men">Men</li>
        <li class="nav-item" data-category="home">Home</li>
        <li class="nav-item" data-category="health">Health & Beauty</li>
        <li class="nav-item" data-category="electronics">Electronics</li>
      </ul>
    </div>
  </div>

  <div class="content">
    <div class="welcome-banner">
      <h1>Welcome to MEMU Store</h1>
      <p>Discover amazing deals on thousands of products</p>
    </div>
    
    <!-- All Products Section -->
    <div class="category-section active" id="all-section">
      <h2 class="category-title"><i class="fas fa-grid"></i> All Products</h2>
      <div class="products-grid" id="all-products">
        <!-- سيتم إضافة المنتجات هنا عبر JavaScript -->
      </div>
    </div>
    
    <!-- Men Section -->
    <div class="category-section" id="men-section">
      <h2 class="category-title"><i class="fas fa-tshirt"></i> Men's Fashion</h2>
      <div class="products-grid" id="men-products">
        <!-- سيتم إضافة المنتجات هنا عبر JavaScript -->
      </div>
    </div>
    
    <!-- Women Section -->
    <div class="category-section" id="women-section">
      <h2 class="category-title"><i class="fas fa-female"></i> Women's Fashion</h2>
      <div class="products-grid" id="women-products">
        <!-- سيتم إضافة المنتجات هنا عبر JavaScript -->
      </div>
    </div>
    
    <!-- Home Section -->
    <div class="category-section" id="home-section">
      <h2 class="category-title"><i class="fas fa-home"></i> Home & Living</h2>
      <div class="products-grid" id="home-products">
        <!-- سيتم إضافة المنتجات هنا عبر JavaScript -->
      </div>
    </div>
    
    <!-- Electronics Section -->
    <div class="category-section" id="electronics-section">
      <h2 class="category-title"><i class="fas fa-laptop"></i> Electronics</h2>
      <div class="products-grid" id="electronics-products">
        <!-- سيتم إضافة المنتجات هنا عبر JavaScript -->
      </div>
    </div>
    
    <!-- Other Sections (empty for now) -->
    <div class="category-section" id="baby-section">
      <h2 class="category-title"><i class="fas fa-baby"></i> Baby Products</h2>
      <p style="text-align: center; padding: 30px; color: #888;">No products available in this category yet.</p>
    </div>
    
    <div class="category-section" id="kids-section">
      <h2 class="category-title"><i class="fas fa-child"></i> Kids Fashion</h2>
      <p style="text-align: center; padding: 30px; color: #888;">No products available in this category yet.</p>
    </div>
    
    <div class="category-section" id="health-section">
      <h2 class="category-title"><i class="fas fa-spa"></i> Health & Beauty</h2>
      <p style="text-align: center; padding: 30px; color: #888;">No products available in this category yet.</p>
    </div>
  </div>

  <script>
    // بيانات المنتجات
    const products = {
      men: [
        { id: "m1", name: "Men's Cotton T-Shirt", price: "999 DA", image: "https://images.pexels.com/photos/8148577/pexels-photo-8148577.jpeg" },
        { id: "m2", name: "Classic Men's T-Shirt", price: "850 DA", image: "https://images.pexels.com/photos/18257675/pexels-photo-18257675.jpeg" },
        { id: "m3", name: "Sport Running Shoes", price: "2499 DA", image: "https://images.pexels.com/photos/1537671/pexels-photo-1537671.jpeg" },
        { id: "m4", name: "Casual Leather Shoes", price: "2999 DA", image: "https://images.pexels.com/photos/6050911/pexels-photo-6050911.jpeg" },
        { id: "m5", name: "Classic Blue Jeans", price: "1999 DA", image: "https://images.pexels.com/photos/52518/jeans-pants-blue-shop-52518.jpeg" },
        { id: "m6", name: "Men's Casual Pants", price: "2299 DA", image: "https://images.pexels.com/photos/4109759/pexels-photo-4109759.jpeg" }
      ],
      women: [
        { id: "w1", name: "Elegant Women's Dress", price: "2999 DA", image: "https://images.pexels.com/photos/8916600/pexels-photo-8916600.jpeg" },
        { id: "w2", name: "Summer Floral Dress", price: "2599 DA", image: "https://images.pexels.com/photos/28264247/pexels-photo-28264247.jpeg" },
        { id: "w3", name: "Women's Jacket with Handbag", price: "3999 DA", image: "https://images.pexels.com/photos/9218538/pexels-photo-9218538.jpeg" },
        { id: "w4", name: "Winter Coat with Bag", price: "4999 DA", image: "https://images.pexels.com/photos/2002717/pexels-photo-2002717.jpeg" }
      ],
      home: [
        { id: "h1", name: "Elegant Window Curtains", price: "1999 DA", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbU1XnwM8GkodbWdNx8v3wNMzmO6DzgSZDF96JAi8WjeuJ0co3uziDT1qP&s=10" },
        { id: "h2", name: "Soft Cotton Bed Sheets", price: "2499 DA", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8ug4XgOuYEAfvjnLXuUpCPknAn46h-XbKQz_-noRCOEV6wK3RibC_WBI&s=10" }
      ],
      electronics: [
        { id: "e1", name: "iPhone 16 Pro Max", price: "99999 DA", image: "https://images.pexels.com/photos/13360476/pexels-photo-13360476.jpeg" },
        { id: "e2", name: "Dell Laptop - 15.6 inch", price: "79999 DA", image: "https://images.pexels.com/photos/459653/pexels-photo-459653.jpeg" }
      ]
    };

    // متغير لتخزين السلة
    let cart = [];

    // دالة لإضافة المنتجات إلى الصفحة
    function renderProducts() {
      // إنشاء مصفوفة تحتوي على جميع المنتجات
      const allProducts = [...products.men, ...products.women, ...products.home, ...products.electronics];
      
      // عرض جميع المنتجات في قسم ALL
      const allContainer = document.getElementById('all-products');
      allProducts.forEach(product => {
        const productCard = createProductCard(product);
        allContainer.appendChild(productCard);
      });
      
      // عرض المنتجات في الأقسام الخاصة بها
      for (const category in products) {
        const container = document.getElementById(`${category}-products`);
        if (!container) continue;
        
        products[category].forEach(product => {
          const productCard = createProductCard(product);
          container.appendChild(productCard);
        });
      }
    }

    // دالة لإنشاء بطاقة منتج
    function createProductCard(product) {
      const productCard = document.createElement('div');
      productCard.className = 'product-card';
      productCard.innerHTML = `
        <div class="product-image-container">
          <img src="${product.image}" alt="${product.name}" class="product-image">
        </div>
        <div class="product-info">
          <h3 class="product-name">${product.name}</h3>
          <div class="product-price-container">
            <span class="current-price">${product.price}</span>
            <button class="add-to-cart-icon"><i class="fas fa-cart-plus"></i></button>
          </div>
        </div>
      `;
      
      // إضافة حدث النقر على أيقونة الإضافة إلى السلة
      const addButton = productCard.querySelector('.add-to-cart-icon');
      addButton.addEventListener('click', function(e) {
        e.stopPropagation();
        addToCart(product);
      });
      
      return productCard;
    }

    // دالة لإضافة منتج إلى السلة
    function addToCart(product) {
      // التحقق إذا كان المنتج موجوداً في السلة بالفعل
      const existingProduct = cart.find(item => item.id === product.id);
      
      if (existingProduct) {
        existingProduct.quantity += 1;
      } else {
        cart.push({
          id: product.id,
          name: product.name,
          price: product.price,
          image: product.image,
          quantity: 1
        });
      }
      
      // تحديث عدد العناصر في السلة
      const cartCount = document.querySelector('.cart-count');
      cartCount.textContent = cart.reduce((total, item) => total + item.quantity, 0);
      
      // تأثير عند الإضافة
      cartCount.style.transform = 'scale(1.5)';
      setTimeout(() => {
        cartCount.style.transform = 'scale(1)';
      }, 300);
      
      // حفظ السلة في localStorage
      localStorage.setItem('cart', JSON.stringify(cart));
      
      // إشعار للمستخدم
      showNotification(`تمت إضافة ${product.name} إلى السلة`);
    }

    // دالة لعرض إشعار للمستخدم
    function showNotification(message) {
      // إنصراف إذا كان هناك إشعار مسبقاً
      if (document.querySelector('.notification')) return;
      
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.textContent = message;
      notification.style.cssText = `
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: #28a745;
        color: white;
        padding: 12px 20px;
        border-radius: 5px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        z-index: 2000;
        animation: fadeInUp 0.3s ease;
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'fadeOutDown 0.3s ease';
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 2000);
    }

    // تبديل الأقسام عند النقر على القائمة
    function setupCategoryToggle() {
      const navItems = document.querySelectorAll('.nav-item');
      const categorySections = document.querySelectorAll('.category-section');
      
      navItems.forEach(item => {
        item.addEventListener('click', function() {
          const category = this.getAttribute('data-category');
          
          // تحديث القائمة النشطة
          navItems.forEach(navItem => navItem.classList.remove('active'));
          this.classList.add('active');
          
          // إظهار القسم المحدد وإخفاء الآخرين
          categorySections.forEach(section => {
            section.classList.remove('active');
          });
          
          document.getElementById(`${category}-section`).classList.add('active');
        });
      });
    }

    // البحث
    const searchBox = document.getElementById("searchBox");
    const searchInput = document.getElementById("searchInput");
    const iconsRight = document.getElementById("iconsRight");

    function collapseSearch() {
      if (searchInput.value.trim() === "") {
        searchBox.classList.remove("expanded");
        iconsRight.classList.remove("hidden-others");
      }
      searchInput.blur();
    }

    // تحميل السلة من localStorage عند بدء التشغيل
    function loadCartFromStorage() {
      const savedCart = localStorage.getItem('cart');
      if (savedCart) {
        cart = JSON.parse(savedCart);
        const cartCount = document.querySelector('.cart-count');
        cartCount.textContent = cart.reduce((total, item) => total + item.quantity, 0);
      }
    }

    // إضافة أنماط للرسوم المتحركة للإشعارات
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translate(-50%, 20px);
        }
        to {
          opacity: 1;
          transform: translate(-50%, 0);
        }
      }
      @keyframes fadeOutDown {
        from {
          opacity: 1;
          transform: translate(-50%, 0);
        }
        to {
          opacity: 0;
          transform: translate(-50%, 20px);
        }
      }
    `;
    document.head.appendChild(style);

    // إضافة المنتجات وإعداد الأحداث عند تحميل الصفحة
    document.addEventListener('DOMContentLoaded', function() {
      loadCartFromStorage();
      renderProducts();
      setupCategoryToggle();
      
      // توسع البحث فقط عند النقر داخل input
      searchInput.addEventListener("focus", () => {
        searchBox.classList.add("expanded");
        iconsRight.classList.add("hidden-others");
      });

      // إغلاق عند الضغط خارج الصندوق
      document.addEventListener("click", (e) => {
        // إلغاء فتح/إغلاق صندوق البحث عند النقر على أيقونات header
        const isClickOnIcons = e.target.closest('.icons-right');
        if (!searchBox.contains(e.target) && e.target !== searchInput && !isClickOnIcons) {
          collapseSearch();
        }
      });

      // إغلاق عند التمرير
      document.addEventListener("scroll", collapseSearch, true);
      
      // منع فتح صندوق البحث عند النقر على أيقونات header
      const headerIcons = document.querySelectorAll('.icons-right > *');
      headerIcons.forEach(icon => {
        icon.addEventListener('click', (e) => {
          // التأكد من إغلاق صندوق البحث عند النقر على الأيقونات
          if (searchBox.classList.contains("expanded")) {
            collapseSearch();
          }
          e.stopPropagation();
        });
      });
    });
  </script>
</body>
</html>
